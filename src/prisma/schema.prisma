generator client {
    provider        = "prisma-client-js"
    previewFeatures = ["referentialIntegrity"]
}

datasource db {
    provider             = "mysql"
    url                  = env("DATABASE_URL")
    referentialIntegrity = "prisma"
}

model User {
    id        String   @id @default(cuid())
    name      String
    email     String   @unique
    password  String
    birthdate DateTime @db.Date

    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    @@map("users")
}

model Company {
    id                  String @id @default(cuid())
    name                String
    cnpj                String @unique
    number              String
    email               String @unique
    phone               String
    password            String
    profile_picture_url String

    created_at DateTime @default(now())
    updated_at DateTime @updatedAt
    address    Address?

    @@map("companies")
}

model Admin {
    id       String @id @default(cuid())
    name     String
    email    String @unique
    password String

    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    @@map("admins")
}

model Address {
    id       String @id @default(cuid())
    street   String
    district String
    city     String
    uf       String
    cep      String

    company    Company @relation(fields: [company_id], references: [id])
    company_id String  @unique

    @@map("addresses")
}

model Item {
    id          String      @id @default(cuid())
    name        String
    color       String
    local       String
    description String
    images      ItemImage[]

    @@map("items")
}

model ItemImage {
    id        String @id @default(cuid())
    image_url String

    item_id String
    item    Item   @relation(fields: [item_id], references: [id])

    @@map("item_images")
}
